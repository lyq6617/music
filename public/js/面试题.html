<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        //1、数组去重 
        var arr = [1, 2, 2, 5, 5, 9, 456, 879, 879, 10]
        // 一般用set方法去重：
        const newArr = [...new Set(arr)]
        //   方法inculdes
        function unique(arr) {
            let newArr = []
            for (i = 0; i <= arr.length; i++) {
                if (!newArr.includes(arr[i])) {
                    newArr.push(arr[i])
                }
            }; return newArr
        }

        //    2、如何实现浅拷贝 
        const obj = {}
        const source = {
            name: 'sunny',
            info: { age: 18 }
        };
        object.assign(obj, source)

        // 3.如何实现深拷贝
        const clone = (target) => {
            if (typeof target === "object" && "target!==null") {
                const cloneTarget = Array.isArray(target) ? [] : {};
                for (let prop in target) {
                    if (target.hasOwnProperty(prop)) {
                        cloneTarget[prop] = clone(target[prop]);
                    }
                } return cloneTarget;
            } else {
                return target;
            }
        }

        // 4、数组扁平化的实现
        var a = [1, [2, [3, [4[5, 6]]]]]

        // ES6-flat
        function flatten(a) {
            return a.flat(Infinity)
        }

        // 普通递归
        const flatten = (arr) => {
            let result = [];
            for (let i = 0; i < arr.length; i++) {
                if (Array.isArray[arr[i]]) {
                    result = result.concat(faltten(arr[i]));
                } else {
                    result.push(arr[i]);
                }
            }
            return result;
        }

        // 5、如何实现防抖和节流
        // 防抖（debounce）
        function debounce(fn, delay) {
            let timer;
            return function (...args) {
                clearTimeout(timer);
                timer = setTimeout(() => {
                    fn(...args);
                }, delay)
            }
        }
        // 节流（throttle）
        function throttle(fn, dealy) {
            let flag = true;
            return function () {
                if (flag) {
                    setTimeout(() => {
                        fn(arguments);
                        flag = true;
                    }, delay)
                    flag = false
                }
            }
        }

    </script>

</body>


</html>